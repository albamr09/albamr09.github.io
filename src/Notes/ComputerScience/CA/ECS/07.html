<html><head>
    <!-- Normal styling from vimwiki -->
    <link rel="Stylesheet" type="text/css" href="../../../../../src/style/index.css">
    <!-- Custom styling from vimwiki -->
    <link rel="Stylesheet" type="text/css" href="../../../../../src/style/custom.css">
    <title>Virtual Marchine I: Processing</title>
  <script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=es6" id="latex_script" data-description="Support for latex"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" data-description="Support for latex"></script><link rel="Stylesheet" type="text/css" href="https://albamr09.github.io/src/style/search.css" data-description="Styling for search"><link rel="Stylesheet" type="text/css" href="https://albamr09.github.io/src/style/atom-one-light.min.css" data-description="Code highlight"><link rel="icon" type="image/svg+xml" href="https://albamr09.github.io/public/icon.svg" data-description="Page icon"></head>
  <body>
    <a href="https://albamr09.github.io/" style="
        color: white;
        font-weight: bold;
        text-decoration: none;
        padding: 3px 6px;
        border-radius: 3px;
        background-color: #1e90ff;
        text-transform: uppercase;
      ">Index</a>
    <form id="search_form" class="search-form">
      <input required="" type="search" id="search_term" class="searchTerm">
      <button type="submit" class="searchButton">Search</button>
    </form>
    <div id="search-background" class="search-background">
      <div id="search-result" class="search-result-hide"></div>
      <div id="search-form-modal" class="search-form-modal">
        <form id="search-form-in-modal">
          <input required="" type="search" id="search-input-in-modal" class="search-input-in-modal" placeholder="Search whatever...">
          <button type="submit" class="searchButton">Search</button>
        </form>
      </div>
    </div>
    <hr>
    <div class="content">
<p>
<a href="index.html">Back</a>
</p>

<div id="Virtual Marchine I: Processing"><h1 id="Virtual Marchine I: Processing" class="header"><a href="#Virtual Marchine I: Processing">Virtual Marchine I: Processing</a></h1></div>

<hr>

<p>
Traditionally, a separate compiler was developed specifically for any given pair of high-level language and low-level machine language. One way to decouple this dependency is to break the overall compilation process into two nearly separate stages
</p>

<p>
The first program, <span id="Virtual Marchine I: Processing-compiler"></span><strong id="compiler">compiler</strong>, translates the high-level code into intermediate VM commands; the second program, called <span id="Virtual Marchine I: Processing-VM translator"></span><strong id="VM translator">VM translator</strong>, translates the VM commands further into the machine instructions of the target hardware platform.
</p>

<p>
One benefit is cross-platform compatibility: since the virtual machine may be realized with relative ease on many hardware platforms
</p>

<div id="Virtual Marchine I: Processing-Stach Machine"><h2 id="Stach Machine" class="header"><a href="#Virtual Marchine I: Processing-Stach Machine">Stach Machine</a></h2></div>

<p>
The centerpiece of the stack machine is the stack, which is a sequential storage space that grows and shrinks as needed. The push operation adds a value to the top of the stack, and  pop operation removes the stack's top value. Note that the push/pop logic results in a <span id="Virtual Marchine I: Processing-Stach Machine-last-in-first-out"></span><strong id="last-in-first-out">last-in-first-out</strong> (LIFO) access logic.
</p>

<div id="Virtual Marchine I: Processing-Stach Machine-Stack Arithmetic"><h3 id="Stack Arithmetic" class="header"><a href="#Virtual Marchine I: Processing-Stach Machine-Stack Arithmetic">Stack Arithmetic</a></h3></div>

<p>
Consider the generic operation \(x \text{op} y\), where the operator \(\text{op}\) is applied to the operands \(x\) and \(y\). In a stack machine, this operation is carried out as follows:
</p>

<ol>
<li>
The operands \(x\) and \(y\) are popped off the top of the stack.

</li><li>
The value of \(x \text{op} y\) is computed.

</li><li>
The computed value is pushed onto the top of the stack.

</li></ol>
<p>
For example, consider the expression \(d = (2 - x) + (y + 9)\) shown in figure 7.3a.
</p>

<p>
<img src="https://albamr09.github.io/public/assets/stack_arithmetic_example.png" alt="Stack Arithmetic Example" style="height:400px">
</p>

<div id="Virtual Marchine I: Processing-Stach Machine-Virtual Memory Segments"><h3 id="Virtual Memory Segments" class="header"><a href="#Virtual Marchine I: Processing-Stach Machine-Virtual Memory Segments">Virtual Memory Segments</a></h3></div>

<p>
High-level languages feature symbolic variables like \(x, y, sum, count\), these  can be a classlevel static variable, an instance-level field of an object, or a method-level local or argument variable. 
</p>

<p>
In virtual machines there are no symbolic variables, instead, variables are represented as entries in <span id="Virtual Marchine I: Processing-Stach Machine-Virtual Memory Segments-virtual memory segments"></span><strong id="virtual memory segments">virtual memory segments</strong> like <code>static</code>, <code>this</code>, <code>local</code>, and <code>argument</code>.  The compiler maps the first, second, third, ... <code>static</code> variable found in program onto <code>static 0</code>, <code>static 1</code>, <code>static 2</code>, and so on. The other variable kinds are mapped on the segments <code>this</code>, <code>local</code>, and <code>argument</code>.
</p>

<p>
Our VM model features eight memory segments, whose names and roles are listed in figure 7.4.
</p>

<p>
<img src="https://albamr09.github.io/public/assets/virtual_memory_segments.png" alt="Virtual Memory Segments" style="height:200px">
</p>

<div id="Virtual Marchine I: Processing-VM Specification, Part I"><h2 id="VM Specification, Part I" class="header"><a href="#Virtual Marchine I: Processing-VM Specification, Part I">VM Specification, Part I</a></h2></div>

<p>
A VM program is a sequence of VM commands that fall into four categories:
</p>

<ul>
<li>
Push / pop commands

</li><li>
Arithmetic-logical commands

</li><li>
Branching commands

</li><li>
Function commands

</li></ul>
<div id="Virtual Marchine I: Processing-VM Specification, Part I-Push / Pop Commands"><h3 id="Push / Pop Commands" class="header"><a href="#Virtual Marchine I: Processing-VM Specification, Part I-Push / Pop Commands">Push / Pop Commands</a></h3></div>

<p>
<img src="https://albamr09.github.io/public/assets/push_pop_specification.png" alt="Push/Pop Specification" style="height:120px">
</p>

<div id="Virtual Marchine I: Processing-VM Specification, Part I-Arithmetic-Logical Commands"><h3 id="Arithmetic-Logical Commands" class="header"><a href="#Virtual Marchine I: Processing-VM Specification, Part I-Arithmetic-Logical Commands">Arithmetic-Logical Commands</a></h3></div>

<ul>
<li>
Arithmetic commands: <code>add, sub, neg</code>

</li><li>
Comparison commands: <code>eq, gt, lt</code>

</li><li>
Logical commands: <code>and, or, not</code>

</li></ul>
<p>
The commands <code>add, sub, eq, gt, lt, and,</code> and <code>or</code> have two implicit operands. We mean that the operand is not part of the command syntax since the command is designed to always operate on the two top stack values, there is no need to specify them.
</p>
</div>
  

<script type="text/javascript" src="https://albamr09.github.io/src/lib/highlight.min.js" id="js_highlight" data-description="Support sytax highlighting on code"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/zepto.min.js" id="zepto" data-description="Library to perform search"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/flexsearch.bundle.js" id="flexsearch" data-description="Library to perform search"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/search.js" id="search" data-description="Library to perform search"></script><script type="text/javascript" id="search" data-description="Entrypoint for hightlihgting">
  $("pre").each(function (index, item) {
    $(item).html("<code>" + $(item).html() + "</code>");
  });
  hljs.highlightAll();
</script></body></html>
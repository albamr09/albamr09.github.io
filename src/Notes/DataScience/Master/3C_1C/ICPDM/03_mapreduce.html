<html><head>
    <!-- Normal styling from vimwiki -->
    <link rel="Stylesheet" type="text/css" href="../../../../../../src/style/index.css">
    <!-- Custom styling from vimwiki -->
    <link rel="Stylesheet" type="text/css" href="../../../../../../src/style/custom.css">
    <title>Programación MapReduce</title>
  <script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=es6" id="latex_script" data-description="Support for latex"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" data-description="Support for latex"></script><link rel="Stylesheet" type="text/css" href="https://albamr09.github.io/src/style/search.css" data-description="Styling for search"><link rel="Stylesheet" type="text/css" href="https://albamr09.github.io/src/style/atom-one-light.min.css" data-description="Code highlight"><link rel="icon" type="image/svg+xml" href="https://albamr09.github.io/public/icon.svg" data-description="Page icon"></head>
  <body>
    <a href="https://albamr09.github.io/" style="
        color: white;
        font-weight: bold;
        text-decoration: none;
        padding: 3px 6px;
        border-radius: 3px;
        background-color: #1e90ff;
        text-transform: uppercase;
      ">Index</a>
    <form id="search_form" class="search-form">
      <input required="" type="search" id="search_term" class="searchTerm">
      <button type="submit" class="searchButton">Search</button>
    </form>
    <div id="search-background" class="search-background">
      <div id="search-result" class="search-result-hide"></div>
      <div id="search-form-modal" class="search-form-modal">
        <form id="search-form-in-modal">
          <input required="" type="search" id="search-input-in-modal" class="search-input-in-modal" placeholder="Search whatever...">
          <button type="submit" class="searchButton">Search</button>
        </form>
      </div>
    </div>
    <hr>
    <div class="content">
<p>
<a href="index.html">Back</a>
</p>

<div id="Programación MapReduce"><h1 id="Programación MapReduce" class="header"><a href="#Programación MapReduce">Programación MapReduce</a></h1></div>

<hr>

<div id="Contents" class="toc"><h2 id="Contents" class="header"><a href="#Contents">Contents</a></h2></div>
<ul>
<li>
<a href="03_mapreduce.html#%BFQu%E9%20es%20MapReduce%3F">Qu  es MapReduce</a>

</li><li>
<a href="03_mapreduce.html#Fases%20de%20Map%20Reduce">Fases de Map Reduce</a>

</li><li>
<a href="03_mapreduce.html#Hadoop%20Streaming">Hadoop Streaming</a>

</li><li>
<a href="03_mapreduce.html#Ejemplo%20Pr%E1ctico%20de%20MapReduce">Ejemplo Pr ctico de MapReduce</a>

</li><li>
<a href="03_mapreduce.html#Optimizaci%F3n%3A%20Combiners%20y%20Partitioner">Optimizaci n  Combiners y Partitioner</a>

</li></ul>
<hr>

<div id="Programación MapReduce-¿Qué es MapReduce?"><h2 id="¿Qué es MapReduce?" class="header"><a href="#Programación MapReduce-¿Qué es MapReduce?">¿Qué es MapReduce?</a></h2></div>

<p>
El flujo de procesamiento de MapReduce se divide en dos etapas: <span id="Programación MapReduce-¿Qué es MapReduce?-Map"></span><strong id="Map">Map</strong> y <span id="Programación MapReduce-¿Qué es MapReduce?-Reduce"></span><strong id="Reduce">Reduce</strong> las cuales se ejecutan de manera distribuida en distintos nodos de procesamiento mientras que un proceso central denominado <span id="Programación MapReduce-¿Qué es MapReduce?-Job Tracker"></span><strong id="Job Tracker">Job Tracker</strong> controla su ejecución.
</p>

<div id="Programación MapReduce-Fases de Map Reduce"><h2 id="Fases de Map Reduce" class="header"><a href="#Programación MapReduce-Fases de Map Reduce">Fases de Map Reduce</a></h2></div>

<ol>
<li>
<span id="Programación MapReduce-Fases de Map Reduce-Map"></span><strong id="Map">Map</strong>: Los datos de entrada se subdividen en bloques independientes que son procesados de forma paralela por los mappers. Normalmente Hadoop intenta ejecutar los mappers en los nodos donde se encuentran los datos sobre los que va a trabajar (<span id="Programación MapReduce-Fases de Map Reduce-data locality"></span><strong id="data locality">data locality</strong>). Esto reduce los tiempos de acceso a los datos y la necesidad de transferencia de datos entre nodos.

</li><li>
<span id="Programación MapReduce-Fases de Map Reduce-Shuffle &amp; sort"></span><strong id="Shuffle &amp; sort">Shuffle &amp; sort</strong>: los datos intermedios de los mappers se ordenan. Este proceso comienza mientras las tareas map están en progreso, a medida que van terminando. No es necesario esperar a que todas terminen.

</li><li>
<span id="Programación MapReduce-Fases de Map Reduce-Reduce"></span><strong id="Reduce">Reduce</strong>: comienza cuando todos los datos han sido ordenados en <span id="Programación MapReduce-Fases de Map Reduce-Shuffle &amp; sort"></span><strong id="Shuffle &amp; sort">Shuffle &amp; sort</strong>. Recibe como entrada estes datos ordenados estructurados como pares clave valor agrupados por clave. Cada reducer toma los valores asociados a una clave y los agrega/procesa y devuelve el resultado como salida que se puede almacenar en HDFS o en otro sistema.

</li><li>
Generalmente se concatenan varias fases de mapper-reducer para completar una tarea.

</li></ol>
<p>
<img src="https://albamr09.github.io/public/assets/map_reduce.png" alt="Map Reduce">
</p>

<div id="Programación MapReduce-Hadoop Streaming"><h2 id="Hadoop Streaming" class="header"><a href="#Programación MapReduce-Hadoop Streaming">Hadoop Streaming</a></h2></div>

<p>
Hadoop Streaming se trata de una utilidad que permite ejecutar aplicaciones en Hadoop escritas en cualquier lenguaje, a pesar de que Hadoop este escrito en Java. Este proporciona un interfaz de entrada y de salida (stdin/stdout) que es consumida por las aplicaciones, tal que existe una pasarela de datos que actúa como comunicación entre Hadoop y la aplicación.
</p>

<p>
<img src="https://albamr09.github.io/public/assets/hadoop_streaming.png">
</p>

<p>
En la imagen anterior se muestra el flujo de un trabajo MapReduce.
</p>

<ol>
<li>
Se leen los datos de entrada y se produce una lista de pares clave-valor.

</li><li>
Se proporcionan los datos en este formato a un mapper externo a través del canal estándar de entrada.

</li><li>
Se devuelve el resultado de los mapper en el mismo formato a través del canal estándar de salida.

</li><li>
Se proporcionan los datos procesados por los mapper al reducer externo a través de la entrada estándar.

</li><li>
Se devuelve el resultado del reducer a través de stdout.

</li><li>
Finalmente se almacena el resultado del reducer, bien en HDFS o en otro sistema externo.

</li></ol>
<p>
Como podemos ver en todas las fases del proceso de mantiene siempre la estructura de pares clave-valor.
</p>

<div id="Programación MapReduce-Ejemplo Práctico de MapReduce"><h2 id="Ejemplo Práctico de MapReduce" class="header"><a href="#Programación MapReduce-Ejemplo Práctico de MapReduce">Ejemplo Práctico de MapReduce</a></h2></div>

<p>
Para ejemplificar MapReduce planteamos el siguiente problema: queremos obtener la frecuencia de cada palabra en un documento.
</p>

<p>
<img src="https://albamr09.github.io/public/assets/map_reduce_example_1.png" alt="MapReduce Example">
</p>

<ul>
<li>
<span id="Programación MapReduce-Ejemplo Práctico de MapReduce-Map"></span><strong id="Map">Map</strong>: dividimos el proceso en dos mappers (idealmente cada proceso mapper se debería de ejecutar en el nodo en el cual se encuentra el bloque de datos). Estes se encargan de obtener la frecuencia de las palabras en la "porción de texto" sobre el que trabajan.

</li></ul>
<p>
<img src="https://albamr09.github.io/public/assets/map_reduce_example_2.png" alt="MapReduce Example">
</p>

<ul>
<li>
<span id="Programación MapReduce-Ejemplo Práctico de MapReduce-Shuffle &amp; Sort"></span><strong id="Shuffle &amp; Sort">Shuffle &amp; Sort</strong>: se ordenan y se agrupan los valores por la clave, donde la clave en nuestro caso es la palabra y el valor su frecuencia.

</li></ul>
<p>
<img src="https://albamr09.github.io/public/assets/map_reduce_example_3.png" alt="MapReduce Example">
</p>

<ul>
<li>
<span id="Programación MapReduce-Ejemplo Práctico de MapReduce-Reduce"></span><strong id="Reduce">Reduce</strong>: se ejecuta un reducer por cada clave presente en el resultado, que agrupa (en nuestro caso suma) los valores bajo cada clave, es decir las frecuencias asociadas a la palabra.

</li></ul>
<p>
<img src="https://albamr09.github.io/public/assets/map_reduce_example_4.png" alt="MapReduce Example">
</p>

<div id="Programación MapReduce-Optimización: Combiners y Partitioner"><h2 id="Optimización: Combiners y Partitioner" class="header"><a href="#Programación MapReduce-Optimización: Combiners y Partitioner">Optimización: Combiners y Partitioner</a></h2></div>

<p>
MapReduce cuenta con dos componentes para optimizar el procesamiento denominados <span id="Programación MapReduce-Optimización: Combiners y Partitioner-combiners"></span><strong id="combiners">combiners</strong> y <span id="Programación MapReduce-Optimización: Combiners y Partitioner-partitioners"></span><strong id="partitioners">partitioners</strong>.
</p>

<ol>
<li>
<span id="Programación MapReduce-Optimización: Combiners y Partitioner-Combiners"></span><strong id="Combiners">Combiners</strong>: agrupan los resultados de cada mapper antes de llegar a la frase de shuffle and sort con el objetivo de reducir el tamaño de los datos que se le proporcionan al reducer.

</li><li>
<span id="Programación MapReduce-Optimización: Combiners y Partitioner-Partitioners"></span><strong id="Partitioners">Partitioners</strong>: se utilizan para determinar cómo se distribuyen los datos a cada reducer. Por defecto Hadoop distribuye la carga de trabajo de manera uniforme entre los reducers, pero se puede personalizar utilizando los <span id="Programación MapReduce-Optimización: Combiners y Partitioner-partitioners"></span><strong id="partitioners">partitioners</strong>.

</li></ol>
</div>
  

<script type="text/javascript" src="https://albamr09.github.io/src/lib/highlight.min.js" id="js_highlight" data-description="Support sytax highlighting on code"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/zepto.min.js" id="zepto" data-description="Library to perform search"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/flexsearch.bundle.js" id="flexsearch" data-description="Library to perform search"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/search.js" id="search" data-description="Library to perform search"></script><script type="text/javascript" id="search" data-description="Entrypoint for hightlihgting">
  $("pre").each(function (index, item) {
    $(item).html("<code>" + $(item).html() + "</code>");
  });
  hljs.highlightAll();
</script></body></html>
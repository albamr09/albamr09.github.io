<html><head>
    <!-- Normal styling from vimwiki -->
    <link rel="Stylesheet" type="text/css" href="../../../../../../src/style/index.css">
    <!-- Custom styling from vimwiki -->
    <link rel="Stylesheet" type="text/css" href="../../../../../../src/style/custom.css">
    <title>El Núcleo de Hadoop</title>
  <link rel="icon" type="image/svg+xml" href="https://albamr09.github.io/public/icon.svg" data-description="Page icon"><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=es6" id="latex_script" data-description="Support for latex"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script" data-description="Support for latex"></script><link rel="Stylesheet" type="text/css" href="https://albamr09.github.io/src/style/search.css" data-description="Styling for search"><link rel="Stylesheet" type="text/css" href="https://albamr09.github.io/src/style/atom-one-light.min.css" data-description="Code highlight"></head>
  <body>
    <a href="https://albamr09.github.io/" style="
        color: white;
        font-weight: bold;
        text-decoration: none;
        padding: 3px 6px;
        border-radius: 3px;
        background-color: #1e90ff;
        text-transform: uppercase;
      ">Index</a>
    <form id="search_form" class="search-form">
      <input required="" type="search" id="search_term" class="searchTerm">
      <button type="submit" class="searchButton">Search</button>
    </form>
    <div id="search-background" class="search-background">
      <div id="search-result" class="search-result-hide"></div>
      <div id="search-form-modal" class="search-form-modal">
        <form id="search-form-in-modal">
          <input required="" type="search" id="search-input-in-modal" class="search-input-in-modal" placeholder="Search whatever...">
          <button type="submit" class="searchButton">Search</button>
        </form>
      </div>
    </div>
    <hr>
    <div class="content">
<p>
<a href="index.html">Back</a>
</p>

<div id="El Núcleo de Hadoop"><h1 id="El Núcleo de Hadoop" class="header"><a href="#El Núcleo de Hadoop">El Núcleo de Hadoop</a></h1></div>

<hr>

<div id="Contents" class="toc"><h2 id="Contents" class="header"><a href="#Contents">Contents</a></h2></div>
<ul>
<li>
<a href="02_hadoop.html#Fundamentos%20y%20Herramientas%20del%20Ecosistema%20de%20Hadoop">Fundamentos y Herramientas del Ecosistema de Hadoop</a>

<ul>
<li>
<a href="02_hadoop.html#La%20Evoluci%F3n%20de%20Hadoop">La Evoluci n de Hadoop</a>

</li><li>
<a href="02_hadoop.html#Caracter%EDsticas%20de%20Hadoop">Caracter sticas de Hadoop</a>

<ul>
<li>
<a href="02_hadoop.html#C%F3digo%20Abierto">C digo Abierto</a>

</li><li>
<a href="02_hadoop.html#Distribuido">Distribuido</a>

</li><li>
<a href="02_hadoop.html#Escalable">Escalable</a>

</li><li>
<a href="02_hadoop.html#Tolerante%20a%20Fallos">Tolerante a Fallos</a>

</li></ul>
</li><li>
<a href="02_hadoop.html#Estructura%20de%20Hadoop">Estructura de Hadoop</a>

</li></ul>
</li><li>
<a href="02_hadoop.html#Sistema%20de%20Ficheros%20Distribuidos">Sistema de Ficheros Distribuidos</a>

<ul>
<li>
<a href="02_hadoop.html#%BFQu%E9%20es%20Hadoop%20Distributed%20File%20System%20%28HDFS%29%3F">Qu  es Hadoop Distributed File System  HDFS</a>

<ul>
<li>
<a href="02_hadoop.html#Sistema%20Distribuido">Sistema Distribuido</a>

</li><li>
<a href="02_hadoop.html#Escalabilidad%20Horizontal">Escalabilidad Horizontal</a>

</li><li>
<a href="02_hadoop.html#Estructura%20Jer%E1rquica">Estructura Jer rquica</a>

</li><li>
<a href="02_hadoop.html#Arquitectura%20y%20componentes">Arquitectura y componentes</a>

<ul>
<li>
<a href="02_hadoop.html#NameNode">NameNode</a>

</li><li>
<a href="02_hadoop.html#DataNode">DataNode</a>

</li></ul>
</li></ul>
</li><li>
<a href="02_hadoop.html#Escritura%20en%20HDFS">Escritura en HDFS</a>

</li><li>
<a href="02_hadoop.html#Lectura%20en%20HDFS">Lectura en HDFS</a>

</li><li>
<a href="02_hadoop.html#Comandos%20de%20HDFS">Comandos de HDFS</a>

<ul>
<li>
<a href="02_hadoop.html#Listar%20Ficheros">Listar Ficheros</a>

</li><li>
<a href="02_hadoop.html#Leer%20y%20Escribir%20Ficheros">Leer y Escribir Ficheros</a>

</li><li>
<a href="02_hadoop.html#Cargar%20y%20Descargar%20Ficheros">Cargar y Descargar Ficheros</a>

</li><li>
<a href="02_hadoop.html#Gesti%F3n%20de%20Ficheros">Gesti n de Ficheros</a>

</li><li>
<a href="02_hadoop.html#Gesti%F3n%20de%20Permisos">Gesti n de Permisos</a>

</li><li>
<a href="02_hadoop.html#Gesti%F3n%20de%20Administraci%F3n">Gesti n de Administraci n</a>

</li></ul>
</li></ul>
</li><li>
<a href="02_hadoop.html#Yarn%3A%20Gesti%F3n%20de%20Recursos">Yarn  Gesti n de Recursos</a>

<ul>
<li>
<a href="02_hadoop.html#Por%20Qu%E9%20Surge%20YARN%3F">Por Qu  Surge YARN</a>

</li><li>
<a href="02_hadoop.html#Arquitectura%20y%20Componentes">Arquitectura y Componentes</a>

<ul>
<li>
<a href="02_hadoop.html#Resource%20Manager">Resource Manager</a>

</li><li>
<a href="02_hadoop.html#Node%20Manager">Node Manager</a>

</li><li>
<a href="02_hadoop.html#Application%20Master">Application Master</a>

</li></ul>
</li><li>
<a href="02_hadoop.html#Secuencia%20de%20trabajo%20en%20Hadoop%20YARN">Secuencia de trabajo en Hadoop YARN</a>

</li><li>
<a href="02_hadoop.html#Federaci%F3n%20en%20Hadoop%20YARN">Federaci n en Hadoop YARN</a>

</li></ul>
</li></ul>
<hr>

<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop"><h2 id="Fundamentos y Herramientas del Ecosistema de Hadoop" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop">Fundamentos y Herramientas del Ecosistema de Hadoop</a></h2></div>

<p>
La naturaleza de los datos masivos hace que la utilización de sistemas de almacenamiento y procesamiento tradicionales, como las bases de datos relaciones, sea inviable.
</p>

<p>
El ecosistema de Hadoop es un entorno software que permite alamcenar, procesar y analizar este tipo de datos de forma eficiente.
</p>

<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-La Evolución de Hadoop"><h3 id="La Evolución de Hadoop" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-La Evolución de Hadoop">La Evolución de Hadoop</a></h3></div>

<p>
A principio de los 2000 e inspirado por las innovaciones en sistemas distribuidos de Google (Google File System y el modelo de programación MapReduce), Doug Cutting desarrolla una alternativa en código abierto a estas tecnologías.
</p>

<p>
Inicialmente se crearon dos partes: 
</p>

<ul>
<li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-La Evolución de Hadoop-Hadoop Distributed File System"></span><strong id="Hadoop Distributed File System">Hadoop Distributed File System</strong> (HDFS): una manera de almacenar grandes cantidades de datos.

</li><li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-La Evolución de Hadoop-MapReduce"></span><strong id="MapReduce">MapReduce</strong>: un sistema para procesar estes datos distribuidos.

</li></ul>
<p>
Tras el éxito de Hadoop surgieron otros proyectos como Hive, Pig y Sparkk que ampliaron lo que se podía hacer con Hadoop. En la actualidad Hadoop es un estándar en el Big Data y es utilizado en muchas industrias diferentes.
</p>

<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop"><h3 id="Características de Hadoop" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop">Características de Hadoop</a></h3></div>

<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Código Abierto"><h4 id="Código Abierto" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Código Abierto">Código Abierto</a></h4></div>

<p>
El código fuente de Hadoop se encuentra disposible públicamente, lo cual fomenta innovación ya que distintos desarrolladores pueden trabajar en mejorar el software.
</p>

<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Distribuido"><h4 id="Distribuido" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Distribuido">Distribuido</a></h4></div>

<p>
Se trata de una plataforma de computación distribuida que ha sido diseñada para poder manejar grandes volúmenes de datos en múltiples nodos de un clúster de servidores. De tal manera que Hadoop puede distribuir la carga de trabajo y los datos entre varios nodos. Esto permite procesamiento en paralelo y escalable.
</p>

<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Escalable"><h4 id="Escalable" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Escalable">Escalable</a></h4></div>

<p>
La escalabilidad de Hadoop se puede entender en dos dimensiones:
</p>

<ul>
<li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Escalable-Escalabilidad Horizontal"></span><strong id="Escalabilidad Horizontal">Escalabilidad Horizontal</strong>: se añaden más nodos al clúster para aumentar la capacidad de almacenamiento y de procesamiento cuando la demanda así lo requiere.

</li><li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Escalable-Escalabilidad Vertical"></span><strong id="Escalabilidad Vertical">Escalabilidad Vertical</strong>: se puede aumentar la capacidad de CPU, memoria y almacenamiento de nodos individuales para majera tareas más grandes o complejas.

</li></ul>
<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Tolerante a Fallos"><h4 id="Tolerante a Fallos" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Características de Hadoop-Tolerante a Fallos">Tolerante a Fallos</a></h4></div>

<p>
Se ha diseñado Hadoop de tal manera que se mantiene la disponibilidad del servicio y la integridad de los datos incluso cuando ocurren fallos en el hardware o en el software del sistema. Esta tolerancia se obtiene mediante:
</p>

<ul>
<li>
La replicación de datos.

</li><li>
La autorecuperación.

</li><li>
La monitorización constante del estado del clúster.

</li></ul>
<div id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Estructura de Hadoop"><h3 id="Estructura de Hadoop" class="header"><a href="#El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Estructura de Hadoop">Estructura de Hadoop</a></h3></div>

<p>
En 2006 se ceden los dos componentes que formaban Hadoop a Apache Software Foundation. En 2012 se publica la versión 1.0 y seguidamente en 2013 se publica la versión 2.0 en la cual se introduce <code>Yarn</code> como gestor de recursos y se desacoplan los módulos <code>HDF</code> y <code>MapReduce</code>. Finalmente en 2017 se publica la versión 3.0.
</p>

<p>
Actualmente Hadoop se conforma de los siguientes componentes principales:
</p>

<ul>
<li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Estructura de Hadoop-Hadoop Distributed System"></span><strong id="Hadoop Distributed System">Hadoop Distributed System</strong> (HDF): sistema distribuido de almacenamiento primario de datos. Este divide los datos en bloques y los distribuye en varios nodos del clúster para garantizar la tolerancia a fallos y la escalabilidad.

</li><li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Estructura de Hadoop-MapReduce"></span><strong id="MapReduce">MapReduce</strong>: proporciona un modelo de programación y procesamiento distribuido para realizar operaciones en conjuntos de datos distribuidos almacenados en HDF. Este divide las tareas en dos fases: 

<ul>
<li>
Map: Los datos se procesan y se filtran en tareas más pequeñas que se ejecutan de forma paralela en diferentes nodos del clúster.

</li><li>
Reduce: los resultados intermedios de las tareas de combinan y se procesan para producir el resultado final.

</li></ul>
</li><li>
<span id="El Núcleo de Hadoop-Fundamentos y Herramientas del Ecosistema de Hadoop-Estructura de Hadoop-Yet Another Resource Negotiator"></span><strong id="Yet Another Resource Negotiator">Yet Another Resource Negotiator</strong> (YARN): es el administrados e recursos del clúster. Se encarga de gestionar recursos de procesamiento (CPU, memoria). También permite la programación dinámica de tareas y la adminitración eficiente de recursos.

</li></ul>
<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos"><h2 id="Sistema de Ficheros Distribuidos" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos">Sistema de Ficheros Distribuidos</a></h2></div>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?"><h3 id="¿Qué es Hadoop Distributed File System (HDFS)?" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?">¿Qué es Hadoop Distributed File System (HDFS)?</a></h3></div>

<p>
Hadoop crea una capa de abstracción en forma de sistema de ficheros único. Tal que se encarga de almacenar los datos en varios nodos manteniendo sus metadatos. 
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Sistema Distribuido"><h4 id="Sistema Distribuido" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Sistema Distribuido">Sistema Distribuido</a></h4></div>

<p>
En este sistema de ficheros los ficheros de dividen en bloques de un mismo tamaño (normalmente 128MB, pero es configurable) y se distribuyen en los nodos del clúster. Cada uno de los bloques se replicará en varios nodos para que el sistema sea tolerante a fallos. Para este tipo de sistemas no es óptimo que los ficheros tengan un tamaño pequeño. 
</p>

<p>
Por ejemplo, si tenemos un fichero de 800MB, lo dividiríamos en siete bloques. Seis serán de 128MB y el último será de 32MB
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Escalabilidad Horizontal"><h4 id="Escalabilidad Horizontal" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Escalabilidad Horizontal">Escalabilidad Horizontal</a></h4></div>

<p>
La escalabilidad horizontal se implementa aumentando el espacio por medio de discos duros o añadiendo más nodos al sistema. Este tipo de escalabilidad es más sencilla que la escalabilidad vertical ya que consiste en añadir hardware básico.
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Estructura Jerárquica"><h4 id="Estructura Jerárquica" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Estructura Jerárquica">Estructura Jerárquica</a></h4></div>

<p>
Decimos que HDFS es jerárquico, ya que existe una jerarquía de directorios y ficheros.
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Arquitectura y componentes"><h4 id="Arquitectura y componentes" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Arquitectura y componentes">Arquitectura y componentes</a></h4></div>

<p>
Sigue una arquitectura maestro-esclavo con dos componentes principales: NameNodes y DataNodes.
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Arquitectura y componentes-NameNode"><h5 id="NameNode" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Arquitectura y componentes-NameNode">NameNode</a></h5></div>

<p>
Almacena los metadatos de HDFS, incluyendo información acerca de la estructura de directorios, los permisos en los archivos y la ubicación física de los bloques de datos.
</p>

<p>
En un clúster HDFS sólo hay un NameNode, y su disponibilidad es crucial, si este no es accesible este supone un error crítico en el sistema. Por ello, a partir de Hadoop 2 es posible configurar un NameNode secundario en espera, o más de uno a partir de Hadoop 3. Estes nodos toman el control si se detecta algún fallo en el nodo primario. Es importante que los nodos esten sincronizados y que tengan los mismos metadatos que el nodo primario.
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Arquitectura y componentes-DataNode"><h5 id="DataNode" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-¿Qué es Hadoop Distributed File System (HDFS)?-Arquitectura y componentes-DataNode">DataNode</a></h5></div>

<p>
Este tipo de nodos son los encargados de almadenar los datos y de recuperar los bloques de datos que conforman los archivos así como de gestionar el almacenamiento del nodo. Además deben informar periódicamente del estado de los bloques al NameNode.
</p>

<p>
La pérdida de un DataNode no afecta significativamente a la integridad del sistema, pero la pérdida de muchos podría afectar a la disposibilidad y a la redundancia de los datos. 
</p>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Escritura en HDFS"><h3 id="Escritura en HDFS" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Escritura en HDFS">Escritura en HDFS</a></h3></div>

<ol>
<li>
Cliente solicita la escritura al NameNode

</li><li>
NameNode asigna bloques consultando su tabla de metadatos para determinar qué DataNodes deben contener los bloques del archivo. Devuelve esta lista de DataNodes al cliente.

</li><li>
Escritura de datos en DataNodes por parte del cliente.

</li><li>
Confirmación al NameNode por parte de los DataNodes.

</li><li>
El NameNode actualiza su tabla de metadatos con la nueva información acerta de la ubicación de los bloques de datos del archivo.

</li></ol>
<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Lectura en HDFS"><h3 id="Lectura en HDFS" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Lectura en HDFS">Lectura en HDFS</a></h3></div>

<ol>
<li>
Cliente solicita la lectura de un archivo al NameNode.

</li><li>
El NameNode consulta su tabla de metadatos y devuelve la ubicación del archivo al cliente.

</li><li>
El cliente solicita los bloques de datos a los DataNodes donde están almacenados y estes devuelven los bloques.

</li><li>
El cliente reconstruye el archivo a partir de los bloques.

</li><li>
El NameNode actualiza su tabla de metadatos con nueva información acerca de la ubicación de los bloques de datos del archivo.

</li></ol>
<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS"><h3 id="Comandos de HDFS" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS">Comandos de HDFS</a></h3></div>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Listar Ficheros"><h4 id="Listar Ficheros" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Listar Ficheros">Listar Ficheros</a></h4></div>

<table>
<thead>
<tr>
<th>
Comando
</th>
<th>
Descripción
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>hdfs dfs -ls /</code>
</td>
<td>
Lista todos los ficheros y directorios para el path /
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -ls -h /</code>
</td>
<td>
Lista los ficheros con su tamaño en formato legible
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -ls -R /</code>
</td>
<td>
Lista todos los ficheros y directorios recursivamente (con subdirectorios)
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -ls /file*</code>
</td>
<td>
Lista todos los ficheros que cumplen el patrón (ficheros que comienzan con 'file')
</td>
</tr>
<tr>
<td>
<code>hadoop fs -stat «type:%F» /</code>
</td>
<td>
Imprime estadísticas del fichero o directorio en el formato indicado
</td>
</tr>
</tbody>
</table>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Leer y Escribir Ficheros"><h4 id="Leer y Escribir Ficheros" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Leer y Escribir Ficheros">Leer y Escribir Ficheros</a></h4></div>

<table>
<thead>
<tr>
<th>
Comando
</th>
<th>
Descripción
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>hdfs dfs -text /app.log</code>
</td>
<td>
Imprime el fichero en modo texto por la terminal
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -cat /app.log</code>
</td>
<td>
Muestra el contenido del fichero en la salida estándar
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -appendToFile /home/file1 /file2</code>
</td>
<td>
Añade el contenido del fichero local 'file1' al fichero en HDFS ‘file2’
</td>
</tr>
</tbody>
</table>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Cargar y Descargar Ficheros"><h4 id="Cargar y Descargar Ficheros" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Cargar y Descargar Ficheros">Cargar y Descargar Ficheros</a></h4></div>

<table>
<thead>
<tr>
<th>
Comando
</th>
<th>
Descripción
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>hdfs dfs -put /home/file1 /hadoop</code>
</td>
<td>
Copia el fichero 'file1' del sistema de ficheros local a HDFS en la carpeta "hadoop"
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -put -f /home/file1 /hadoop</code>
</td>
<td>
Copia el fichero 'file1' del sistema de ficheros local a HDFS y lo sobreescribe en el caso de que ya exista
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -put -l /home/file1 /hadoop</code>
</td>
<td>
Copia el fichero 'file1' del sistema de ficheros local a HDFS. Fuerza replicación 1 y permite al DataNode persistir los datos de forma perezosa.
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -put -p /home/file1 /hadoop</code>
</td>
<td>
Copia el fichero 'file1' del sistema de ficheros local a HDFS. Mantiene los tiempos de acceso, de modificación y propietario original
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -get /file1 /home/</code>
</td>
<td>
Copia el fichero 'file1' de HDFS al sistema de ficheros local
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -copyToLocal /file1 /home/</code>
</td>
<td>
Copia el fichero 'file1' de HDFS al sistema de ficheros local (igual que el anterior)
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -moveFromLocal /home/file1 /hadoop</code>
</td>
<td>
Copia el fichero 'file1' del sistema de ficheros local a HDFS y luego lo borra del sist. ficheros local
</td>
</tr>
</tbody>
</table>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Gestión de Ficheros"><h4 id="Gestión de Ficheros" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Gestión de Ficheros">Gestión de Ficheros</a></h4></div>

<table>
<thead>
<tr>
<th>
Comando
</th>
<th>
Descripción
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>hdfs dfs -cp /hadoop/file1 /hadoop1</code>
</td>
<td>
Copia el fichero al directorio destino en HDFS
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -cp -p /hadoop/file1 /hadoop1</code>
</td>
<td>
Copia el fichero al directorio destino en HDFS conservando tiempos de acceso y de modificación, propietario y modo
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -rm /hadoop/file1</code>
</td>
<td>
Elimina el fichero 'file1' de HDFS y lo envía a la papelera
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -rm -r /hadoop</code>
</td>
<td>
Elimina el directorio y su contenido en HDFS
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -rm -R /hadoop</code>
</td>
<td>
Elimina el directorio y su contenido en HDFS
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -rmr /hadoop</code>
</td>
<td>
Elimina el directorio y su contenido en HDFS
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -rm -skipTrash /file1</code>
</td>
<td>
Elimina el fichero sin dejarlo en la papelera
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -mkdir /hadoop2</code>
</td>
<td>
Crea un directorio en HDFS
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -touchz /hadoop3</code>
</td>
<td>
Crea un fichero en HDFS con tamaño 0
</td>
</tr>
<tr>
<td>
<code>hadoop fs -getmerge -nl /file1 /file2 /output</code>
</td>
<td>
Concatena los ficheros file1 y file2 en el fichero destino /output
</td>
</tr>
</tbody>
</table>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Gestión de Permisos"><h4 id="Gestión de Permisos" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Gestión de Permisos">Gestión de Permisos</a></h4></div>

<table>
<thead>
<tr>
<th>
Comando
</th>
<th>
Descripción
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>hdfs dfs -checksum /hadoop/file1</code>
</td>
<td>
Muestra la información checksum del fichero
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -chmod 775 /hadoop/file1</code>
</td>
<td>
Cambia los permisos del fichero en HDFS
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -chmod -R 755 /hadoop</code>
</td>
<td>
Cambia los permisos de los ficheros recursivamente
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -chown hadoop:hadoop /file1</code>
</td>
<td>
Cambia el propietario y el grupo del fichero
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -chown -R hadoop:hadoop /file1</code>
</td>
<td>
Cambia el propietario y el grupo recursivamente
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -chgrp hadoop /file1</code>
</td>
<td>
Cambia el grupo del fichero
</td>
</tr>
</tbody>
</table>

<div id="El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Gestión de Administración"><h4 id="Gestión de Administración" class="header"><a href="#El Núcleo de Hadoop-Sistema de Ficheros Distribuidos-Comandos de HDFS-Gestión de Administración">Gestión de Administración</a></h4></div>

<table>
<thead>
<tr>
<th>
Comando
</th>
<th>
Descripción
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>hdfs dfs -df /hadoop</code>
</td>
<td>
Muestra la capacidad y el espacio libre y usado del sistema de ficheros
</td>
</tr>
<tr>
<td>
<code>hdfs dfs -df -h /hadoop</code>
</td>
<td>
Muestra la capacidad y el espacio libre y usado del sistema de ficheros en formato legible
</td>
</tr>
<tr>
<td>
<code>hadoop version</code>
</td>
<td>
Muestra la versión de Hadoop
</td>
</tr>
<tr>
<td>
<code>hdfs fsck /</code>
</td>
<td>
Comprueba el estado de salud del sistema de ficheros
</td>
</tr>
<tr>
<td>
<code>hdfs dfsadmin -safemode leave</code>
</td>
<td>
Deshabilita el modo seguro del NameNode
</td>
</tr>
<tr>
<td>
<code>hdfs namenode -format</code>
</td>
<td>
Formatea el NameNode
</td>
</tr>
<tr>
<td>
<code>hadoop fs -test -e filename</code>
</td>
<td>
Si el path existe en HDFS, devuelve 0
</td>
</tr>
<tr>
<td>
<code>hadoop fs -setrep -w 3 /file1</code>
</td>
<td>
Cambia el factor de replicación de un fichero a 3. Si se indica un directorio, cambia el factor de replicación de todos los ficheros que contiene
</td>
</tr>
</tbody>
</table>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos"><h2 id="Yarn: Gestión de Recursos" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos">Yarn: Gestión de Recursos</a></h2></div>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Por Qué Surge YARN?"><h3 id="Por Qué Surge YARN?" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Por Qué Surge YARN?">Por Qué Surge YARN?</a></h3></div>

<p>
YARN se encarga de administrar y asignar recursos a las diversas aplicaciones que se ejecutan en el clúster de Hadooop. Algunos de los objetivos principales de YARN son la escalabilidad, la eficiencia y la capacidad de ejecutar múltiples frameworks de procesamiento de datos no sólo MapReduce.
</p>

<p>
En la verisón 1, MapReduce contaba con un administrador de recursos y un planificador interno. YARN permite separar la gestión de recursos de la lógica de programación. Anteriormente se presentaban muchas limitaciones al no admitir apliaciones que siguiesen el modelo MapReduce (como el análisis de grafos) y era necesario transladar los datos a otras plataformas. A partir de Hadoop 2 la utilización de otros frameworks (Giraph para análisis de datos, Storm para análisis de datos en tiempo real, etc) es transparente.
</p>

<p>
Esto permite una mejor utilización de los recursos del clúster y una mayor flexibilidad en la ejecución de aplicaciones.
</p>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes"><h3 id="Arquitectura y Componentes" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes">Arquitectura y Componentes</a></h3></div>

<p>
YARN consta de tres componentes principales: <span id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Resource Manager"></span><strong id="Resource Manager">Resource Manager</strong>, <span id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Node Manager"></span><strong id="Node Manager">Node Manager</strong> y <span id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Application Master"></span><strong id="Application Master">Application Master</strong>.
</p>

<p>
<img src="https://albamr09.github.io/public/images/DataScience/Master/3C_1C/ICPDM/yarn_architecture.png" alt="Yarn Architecture">
</p>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Resource Manager"><h4 id="Resource Manager" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Resource Manager">Resource Manager</a></h4></div>

<p>
Se trata del maestro del clúster y se encarga de aceptar las solicitudes de recursos de las aplicaciones, negociar los recursos con los nodos y asignar recursos a la aplicaciones mediante un planificador. Cabe destacar que este planificador no ofrece garantías de ejecución de la aplicaciones ni las monitoriza.
</p>

<p>
Existe un segundo componente denominado <span id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Resource Manager-gestor de aplicaciones"></span><strong id="gestor de aplicaciones">gestor de aplicaciones</strong> que se encarga de aceptar las peticiones de trabajos, negocial el contenedor para la ejecutación de la aplicación y proporcionar, en caso de error, el reinicio de los trabajos.
</p>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Node Manager"><h4 id="Node Manager" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Node Manager">Node Manager</a></h4></div>

<p>
Se ejecutan en cada nodo y son los encargados de administrar los recursos locales (CPU, almacenamiento, memoria) y reportar su disponibilidad al Resource Manager. También gestiona el lanzamiento y la supervisión de los contenedores que ejecutan las tareas de las aplicaciones y mapean las variables de entorno necesarias, descargan las dependencias y los servicios necesarios para crar los procesos.
</p>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Application Master"><h4 id="Application Master" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Arquitectura y Componentes-Application Master">Application Master</a></h4></div>

<p>
Se crea y ejecuta para cada aplicación dentro de un contenedor. Es el responsable de negociar los recursos con el Resouce Manager y de supervisar el progreso de la aplicación.
</p>

<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Secuencia de trabajo en Hadoop YARN"><h3 id="Secuencia de trabajo en Hadoop YARN" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Secuencia de trabajo en Hadoop YARN">Secuencia de trabajo en Hadoop YARN</a></h3></div>

<ol>
<li>
El cliente envía una aplicación YARN al Resource Manager

</li><li>
El Resource Manager reserva recursos en contenedores para la ejecución de la aplicación

</li><li>
El Application Manager se registra con el Resource Manager y solicita los recursos necesarios para la aplicación

</li><li>
El Application Manager notifica al Node Manager la ejecución de los contenedores asignados

</li><li>
La aplicación YARN se ejecuta en le contenedor correspondiente

</li><li>
El Application Master supervisa la ejecución y reporta el estado al Resource Manager y al Application Manager

</li><li>
Al finalizar la ejecución el Application Manager notifica al Resource Manager

</li></ol>
<div id="El Núcleo de Hadoop-Yarn: Gestión de Recursos-Federación en Hadoop YARN"><h3 id="Federación en Hadoop YARN" class="header"><a href="#El Núcleo de Hadoop-Yarn: Gestión de Recursos-Federación en Hadoop YARN">Federación en Hadoop YARN</a></h3></div>

<p>
La federación en Hadoop YARN pemite la conexión de múltiples clústeres YARN para formar un clúster lógico único. De esta manera podemos lograr una gestión centralizada de recursos lo cual simplifica su administración.
</p>

<p>
Una de las ventajas clave es el escalamiento horizontal sin límites dados por el tamaño del clúster. Por lo tanto, se facilita la ejecución de trabajos de gran embergadura y distribuidos.
</p>
</div>
  

<script type="text/javascript" src="https://albamr09.github.io/src/lib/highlight.min.js" id="js_highlight" data-description="Support sytax highlighting on code"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/zepto.min.js" id="zepto" data-description="jQuery library"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/search.js" id="search" data-description="Library to perform search"></script><script type="text/javascript" src="https://albamr09.github.io/src/lib/fuse.js" id="search" data-description="Library to perform search"></script><script type="text/javascript" id="search" data-description="Entrypoint for hightlihgting">
  $("pre").each(function (index, item) {
    $(item).html("<code>" + $(item).html() + "</code>");
  });
  hljs.highlightAll();
</script></body></html>